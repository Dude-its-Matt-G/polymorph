<!DOCTYPE html>

<html lang="en" dir="ltr">

  <head>

    <meta charset="utf-8">

    <title>{{ data.title }}</title>

    <link rel="shortcut icon" href="{{ url_for('static', filename='imgs/theme/logo.png') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='libs/css/jQuery-UI.css') }}">

    <script src="{{ url_for('static', filename='libs/js/sha256.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/socket.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/jQuery.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/jQueryUI.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/three.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/threeX.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/csgWrapper.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/morph.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/EffectComposer.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/OutlinePass.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/RenderPass.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/ShaderPass.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/CopyShader.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/exporters/OBJExporter.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/exporters/PLYExporter.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/exporters/STLExporter.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/importers/OBJLoader.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/importers/PLYLoader.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/importers/STLLoader.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/importers/SVGLoader.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/colors/glass/grayscale.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/colors/glass/rainbow.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/colors/solid/grayscale.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/colors/solid/rainbow.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/colors/three/grayscale.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/colors/three/rainbow.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/lights/ambient.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/lights/directional.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/lights/hemisphere.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/lights/point.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/lights/spot.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/cameras/array.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/cameras/cube.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/cameras/orthographic.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/cameras/perspective.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/cameras/stereo.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/controls/drag.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/controls/fly.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/controls/focus.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/controls/zoom.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/LineSegmentsGeometry.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/LineSegments.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/LineGeometry.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/LineMaterial.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/LineMesh.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/materials/line.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/materials/mesh.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/geometries/boxes.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/circles.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/cones.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/cylinders.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/knots.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/lines.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/lines2.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/planes.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/quadrilaterals.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/rings.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/spheres.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/text.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/toruses.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/triangles.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/geometries/tubes.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/etc/events.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/etc/settings.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/etc/setup.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/etc/tools.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/etc/ui.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/draw/axes.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/draw/metabox.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/FileSaver.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/libs/files/export.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/files/import.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/files/local.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/libs/files/server.js') }}"></script>

    <script src="{{ url_for('static', filename='libs/js/math.js') }}"></script>
    <script src="{{ url_for('static', filename='libs/js/tools.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/panels/all.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/camera.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/context.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/lights.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/menu.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/mesh.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/meshes.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/settings.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/shapes.js') }}"></script>
    <script src="{{ url_for('static', filename='mjs/panels/shortcuts.js') }}"></script>

    <script src="{{ url_for('static', filename='mjs/home.js') }}"></script>

  </head>

  <body oncontextmenu="return false">

    <div id='navbar'>

      <img id="menu" src="{{ url_for('static', filename='imgs/theme/menu/white.png') }}">

      <h1 id='title'><span contenteditable='true'>{{ data.title|upper }}</span></h1>

    </div>

    <a href="https://github.com/jgphilpott/polymorph" target="_blank">

      <img id="forkme" src="{{ url_for('static', filename='imgs/theme/forkme/right/red.png') }}">

    </a>

    <div id=metabox></div>

    <img title="Help" id="help" src="{{ url_for('static', filename='imgs/panels/nav/?.png') }}">

    <script>

      const data = {{ data | tojson | safe }}
      const client = data.client
      const socket = io()

      let scale = 100

      let axes = []
      let meshes = []
      let panels = []

      var lights, camera, events
      var renderer, composer, canvas, scene
      let settings, controls, tooltips = {}

      let box = addBox
      let circle = addCircle
      let cone = addCone
      let cylinder = addCylinder
      let knot = addKnot
      let line = addLine
      let line2 = addLine2
      let plane = addPlane
      let quadrilateral = addQuadrilateral
      let ring = addRing
      let sphere = addSphere
      let text = addText
      let torus = addTorus
      let triangle = addTriangle
      let tube = addTube

      console.log("Welcome to " + data.title + "!")

      setup()

    </script>

  </body>

</html>